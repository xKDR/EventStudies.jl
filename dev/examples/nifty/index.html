<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Rate hikes and market indicators · EventStudies.jl</title><script data-outdated-warner src="../../assets/warner.js"></script><link rel="canonical" href="https://xKDR.github.io/EventStudies.jl/examples/nifty/"/><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../../">EventStudies.jl</a></span></div><form class="docs-search" action="../../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><a class="tocitem" href="../../event_time/">Event time</a></li><li><a class="tocitem" href="../../models/">Models</a></li><li><span class="tocitem">Examples</span><ul><li><a class="tocitem" href="../mwe/">Minimal example</a></li><li class="is-active"><a class="tocitem" href>Rate hikes and market indicators</a></li><li><a class="tocitem" href="../sex_ratio_at_birth/">Sex ratio at birth</a></li><li><a class="tocitem" href="../replications/">Replicating eventstudies.R</a></li></ul></li><li><span class="tocitem">Developer docs</span><ul><li><a class="tocitem" href="../../artifacts/">Artifacts and data</a></li><li><a class="tocitem" href="../../marketmodel/">Market model implementation</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Examples</a></li><li class="is-active"><a href>Rate hikes and market indicators</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Rate hikes and market indicators</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/xKDR/EventStudies.jl/blob/main/examples/nifty.jl" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="The-effect-of-Fed-rate-hikes-on-Indian-indicators"><a class="docs-heading-anchor" href="#The-effect-of-Fed-rate-hikes-on-Indian-indicators">The effect of Fed rate hikes on Indian indicators</a><a id="The-effect-of-Fed-rate-hikes-on-Indian-indicators-1"></a><a class="docs-heading-anchor-permalink" href="#The-effect-of-Fed-rate-hikes-on-Indian-indicators" title="Permalink"></a></h1><pre><code class="language-julia hljs"># Load the packages:
using TSFrames
using MarketData
using Dates
using DataFrames
using EventStudies
using CairoMakie</code></pre><p>First, get data about stock prices from MarketData.jl:</p><p>NIFTY index (India)</p><pre><code class="language-julia hljs">nifty = TSFrame(MarketData.yahoo(&quot;^NSEI&quot;))
select!(nifty.coredata, :Index, :AdjClose =&gt; :NIFTY);</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">3838×1 TSFrame with Dates.Date Index
 Index       NIFTY
 Date        Float64?
──────────────────────
 2007-09-17   4494.65
 2007-09-18   4546.2
 2007-09-19   4732.35
 2007-09-20   4747.55
 2007-09-21   4837.55
 2007-09-24   4932.2
 2007-09-25   4938.85
 2007-09-26   4940.5
     ⋮          ⋮
 2023-03-21  17107.5
 2023-03-22  17151.9
 2023-03-23  17076.9
 2023-03-24  16945.1
 2023-03-27  16985.7
 2023-03-28  16951.7
 2023-03-29  17103.5
     3823 rows omitted</code></pre><p>USD/INR exchange rate</p><pre><code class="language-julia hljs">usd_inr = TSFrame(MarketData.yahoo(&quot;USDINR=X&quot;))
select!(usd_inr.coredata, :Index, :AdjClose =&gt; :USDINR);</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">5043×1 TSFrame with Dates.Date Index
 Index       USDINR
 Date        Float64?
──────────────────────
 2003-12-01   45.71
 2003-12-02   45.629
 2003-12-03   45.55
 2003-12-04   45.548
 2003-12-05   45.449
 2003-12-08   45.47
 2003-12-09   45.431
 2003-12-10   45.371
     ⋮          ⋮
 2023-03-21   82.5291
 2023-03-22   82.677
 2023-03-23   82.5258
 2023-03-24   82.2653
 2023-03-27   82.3388
 2023-03-28   82.2149
 2023-03-29   82.355
     5028 rows omitted</code></pre><p>US Fed funds rate</p><pre><code class="language-julia hljs">fed_rate = TSFrame(MarketData.fred(&quot;FEDFUNDS&quot;))
fed_rate_2007 = TSFrame(fed_rate.coredata[searchsortedfirst(index(fed_rate), Date(2007, 1, 1)):end, :])
fed_rate_diffs = diff(fed_rate_2007)
dropmissing!(fed_rate_diffs.coredata)
fed_rate_dates = filter(:VALUE =&gt; &gt;(0), fed_rate_diffs.coredata)

############################################################</code></pre><div><div style = "float: left;"><span>83×2 DataFrame</span></div><div style = "clear: both;"></div></div><div class = "data-frame" style = "overflow-x: scroll;"><table class = "data-frame" style = "margin-bottom: 6px;"><thead><tr class = "header"><th class = "rowNumber" style = "font-weight: bold; text-align: right;">Row</th><th style = "text-align: left;">Index</th><th style = "text-align: left;">VALUE</th></tr><tr class = "subheader headerLastRow"><th class = "rowNumber" style = "font-weight: bold; text-align: right;"></th><th title = "Dates.Date" style = "text-align: left;">Date</th><th title = "Float64" style = "text-align: left;">Float64</th></tr></thead><tbody><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">1</td><td style = "text-align: left;">2007-02-01</td><td style = "text-align: right;">0.01</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">2</td><td style = "text-align: left;">2007-07-01</td><td style = "text-align: right;">0.01</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">3</td><td style = "text-align: left;">2008-06-01</td><td style = "text-align: right;">0.02</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">4</td><td style = "text-align: left;">2008-07-01</td><td style = "text-align: right;">0.01</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">5</td><td style = "text-align: left;">2009-02-01</td><td style = "text-align: right;">0.07</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">6</td><td style = "text-align: left;">2009-05-01</td><td style = "text-align: right;">0.03</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">7</td><td style = "text-align: left;">2009-06-01</td><td style = "text-align: right;">0.03</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">8</td><td style = "text-align: left;">2010-02-01</td><td style = "text-align: right;">0.02</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">9</td><td style = "text-align: left;">2010-03-01</td><td style = "text-align: right;">0.03</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">10</td><td style = "text-align: left;">2010-04-01</td><td style = "text-align: right;">0.04</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">11</td><td style = "text-align: left;">2010-08-01</td><td style = "text-align: right;">0.01</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">12</td><td style = "text-align: left;">2011-08-01</td><td style = "text-align: right;">0.03</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">13</td><td style = "text-align: left;">2011-11-01</td><td style = "text-align: right;">0.01</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">14</td><td style = "text-align: left;">2012-01-01</td><td style = "text-align: right;">0.01</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">15</td><td style = "text-align: left;">2012-02-01</td><td style = "text-align: right;">0.02</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">16</td><td style = "text-align: left;">2012-03-01</td><td style = "text-align: right;">0.03</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">17</td><td style = "text-align: left;">2012-04-01</td><td style = "text-align: right;">0.01</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">18</td><td style = "text-align: left;">2012-05-01</td><td style = "text-align: right;">0.02</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">19</td><td style = "text-align: left;">2012-09-01</td><td style = "text-align: right;">0.01</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">20</td><td style = "text-align: left;">2012-10-01</td><td style = "text-align: right;">0.02</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">21</td><td style = "text-align: left;">2013-02-01</td><td style = "text-align: right;">0.01</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">22</td><td style = "text-align: left;">2013-04-01</td><td style = "text-align: right;">0.01</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">23</td><td style = "text-align: left;">2013-10-01</td><td style = "text-align: right;">0.01</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">24</td><td style = "text-align: left;">2013-12-01</td><td style = "text-align: right;">0.01</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">25</td><td style = "text-align: left;">2014-03-01</td><td style = "text-align: right;">0.01</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">26</td><td style = "text-align: left;">2014-04-01</td><td style = "text-align: right;">0.01</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">27</td><td style = "text-align: left;">2014-06-01</td><td style = "text-align: right;">0.01</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">28</td><td style = "text-align: left;">2014-12-01</td><td style = "text-align: right;">0.03</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">29</td><td style = "text-align: left;">2015-04-01</td><td style = "text-align: right;">0.01</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">30</td><td style = "text-align: left;">2015-06-01</td><td style = "text-align: right;">0.01</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">31</td><td style = "text-align: left;">2015-08-01</td><td style = "text-align: right;">0.01</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">32</td><td style = "text-align: left;">2015-12-01</td><td style = "text-align: right;">0.12</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">33</td><td style = "text-align: left;">2016-01-01</td><td style = "text-align: right;">0.1</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">34</td><td style = "text-align: left;">2016-02-01</td><td style = "text-align: right;">0.04</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">35</td><td style = "text-align: left;">2016-04-01</td><td style = "text-align: right;">0.01</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">36</td><td style = "text-align: left;">2016-06-01</td><td style = "text-align: right;">0.01</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">37</td><td style = "text-align: left;">2016-07-01</td><td style = "text-align: right;">0.01</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">38</td><td style = "text-align: left;">2016-08-01</td><td style = "text-align: right;">0.01</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">39</td><td style = "text-align: left;">2016-11-01</td><td style = "text-align: right;">0.01</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">40</td><td style = "text-align: left;">2016-12-01</td><td style = "text-align: right;">0.13</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">41</td><td style = "text-align: left;">2017-01-01</td><td style = "text-align: right;">0.11</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">42</td><td style = "text-align: left;">2017-02-01</td><td style = "text-align: right;">0.01</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">43</td><td style = "text-align: left;">2017-03-01</td><td style = "text-align: right;">0.13</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">44</td><td style = "text-align: left;">2017-04-01</td><td style = "text-align: right;">0.11</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">45</td><td style = "text-align: left;">2017-05-01</td><td style = "text-align: right;">0.01</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">46</td><td style = "text-align: left;">2017-06-01</td><td style = "text-align: right;">0.13</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">47</td><td style = "text-align: left;">2017-07-01</td><td style = "text-align: right;">0.11</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">48</td><td style = "text-align: left;">2017-08-01</td><td style = "text-align: right;">0.01</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">49</td><td style = "text-align: left;">2017-11-01</td><td style = "text-align: right;">0.01</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">50</td><td style = "text-align: left;">2017-12-01</td><td style = "text-align: right;">0.14</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">51</td><td style = "text-align: left;">2018-01-01</td><td style = "text-align: right;">0.11</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">52</td><td style = "text-align: left;">2018-02-01</td><td style = "text-align: right;">0.01</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">53</td><td style = "text-align: left;">2018-03-01</td><td style = "text-align: right;">0.09</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">54</td><td style = "text-align: left;">2018-04-01</td><td style = "text-align: right;">0.18</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">55</td><td style = "text-align: left;">2018-05-01</td><td style = "text-align: right;">0.01</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">56</td><td style = "text-align: left;">2018-06-01</td><td style = "text-align: right;">0.12</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">57</td><td style = "text-align: left;">2018-07-01</td><td style = "text-align: right;">0.09</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">58</td><td style = "text-align: left;">2018-09-01</td><td style = "text-align: right;">0.04</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">59</td><td style = "text-align: left;">2018-10-01</td><td style = "text-align: right;">0.24</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">60</td><td style = "text-align: left;">2018-11-01</td><td style = "text-align: right;">0.01</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">61</td><td style = "text-align: left;">2018-12-01</td><td style = "text-align: right;">0.07</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">62</td><td style = "text-align: left;">2019-01-01</td><td style = "text-align: right;">0.13</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">63</td><td style = "text-align: left;">2019-03-01</td><td style = "text-align: right;">0.01</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">64</td><td style = "text-align: left;">2019-04-01</td><td style = "text-align: right;">0.01</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">65</td><td style = "text-align: left;">2019-07-01</td><td style = "text-align: right;">0.02</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">66</td><td style = "text-align: left;">2020-02-01</td><td style = "text-align: right;">0.03</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">67</td><td style = "text-align: left;">2020-06-01</td><td style = "text-align: right;">0.03</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">68</td><td style = "text-align: left;">2020-07-01</td><td style = "text-align: right;">0.01</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">69</td><td style = "text-align: left;">2020-08-01</td><td style = "text-align: right;">0.01</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">70</td><td style = "text-align: left;">2021-06-01</td><td style = "text-align: right;">0.02</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">71</td><td style = "text-align: left;">2021-07-01</td><td style = "text-align: right;">0.02</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">72</td><td style = "text-align: left;">2022-03-01</td><td style = "text-align: right;">0.12</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">73</td><td style = "text-align: left;">2022-04-01</td><td style = "text-align: right;">0.13</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">74</td><td style = "text-align: left;">2022-05-01</td><td style = "text-align: right;">0.44</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">75</td><td style = "text-align: left;">2022-06-01</td><td style = "text-align: right;">0.44</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">76</td><td style = "text-align: left;">2022-07-01</td><td style = "text-align: right;">0.47</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">77</td><td style = "text-align: left;">2022-08-01</td><td style = "text-align: right;">0.65</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">78</td><td style = "text-align: left;">2022-09-01</td><td style = "text-align: right;">0.23</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">79</td><td style = "text-align: left;">2022-10-01</td><td style = "text-align: right;">0.52</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">80</td><td style = "text-align: left;">2022-11-01</td><td style = "text-align: right;">0.7</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">81</td><td style = "text-align: left;">2022-12-01</td><td style = "text-align: right;">0.32</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">82</td><td style = "text-align: left;">2023-01-01</td><td style = "text-align: right;">0.23</td></tr><tr><td class = "rowNumber" style = "font-weight: bold; text-align: right;">83</td><td style = "text-align: left;">2023-02-01</td><td style = "text-align: right;">0.24</td></tr></tbody></table></div><pre><code class="nohighlight hljs">                     Nifty                           #</code></pre><pre><code class="language- hljs">############################################################

phystime_returns_ts, event_status = EventStudies.eventstudy(levels_to_returns(nifty), (:NIFTY,) .=&gt; fed_rate_dates.Index, -6:7, #=MarketModel(levels_to_returns(fed_rate))=#)
t0, lower, upper = inference(BootstrapInference(), phystime_returns_ts)
N = 200
times = (phystime_returns_ts.Index .|&gt; Dates.value) .+ 365
y_vals, y_colors = EventStudies.inference_surface(BootstrapInference(), phystime_returns_ts; density = N)</code></pre><p>plot</p><pre><code class="language- hljs">f, a, p = lines(times, t0; label = &quot;Mean over all events&quot;)
sp = surface!(a, permutedims(reduce(hcat, fill(times, N))), y_vals, y_colors; shading = false, colormap = :diverging_bwr_55_98_c37_n256)
translate!(p, 0,0,-99)
translate!(sp, 0,0,-100)

p.color = Makie.wong_colors()[3]

cb = Colorbar(f[1, 2], sp; label = &quot;Confidence level&quot;)
cb.ticks = WilkinsonTicks(8; k_min = 5, k_max = 10)
leg = axislegend(a; position = :rt)

a.title = &quot;Nifty performance after a Fed rate hike&quot;
a.subtitle = rich(rich(&quot;t=0&quot;, font = to_font(&quot;Fira Mono&quot;)), &quot; indicates the time of rate hike&quot;)
a.titlealign = :left
a.xlabel = &quot;Event time (days)&quot;
a.ylabel = &quot;NIFTY returns&quot;
a.xticks = WilkinsonTicks(8; k_min = 5, k_max = 10)

f</code></pre><p>save(&quot;nifty.pdf&quot;, f; pt<em>per</em>unit = 1)</p><pre><code class="language-julia hljs">############################################################</code></pre><pre><code class="nohighlight hljs">                     USDINR                          #</code></pre><pre><code class="language- hljs">############################################################


phystime_returns_ts, event_status = EventStudies.eventstudy(levels_to_returns(usd_inr), (:USDINR,) .=&gt; fed_rate_dates.Index, -6:7)
t0, lower, upper = inference(BootstrapInference(), phystime_returns_ts)

phystime_returns_ts = remap_cumsum(phystime_returns_ts)

N = 100
xs = (phystime_returns_ts.Index .|&gt; Dates.value) .+ 365
deviations = LinRange(0.5, 0.975, N÷2)

x_vals = permutedims(hcat(fill(xs, N)...))
y_vals = zeros(N, length(xs))
y_colors = zeros(N, length(xs))

for (y_ind, deviation) in enumerate(deviations)
    t0, lower, upper = inference(BootstrapInference(), phystime_returns_ts, deviation)
    y_vals[50 - y_ind + 1, :] .= lower
    y_vals[50 + y_ind , :] .= upper
    y_colors[50 - y_ind + 1, :] .= 1 - deviation
    y_colors[50 + y_ind , :] .= deviation

end</code></pre><p>plot</p><pre><code class="language- hljs">f, a, p = lines((phystime_returns_ts.Index .|&gt; Dates.value) .+ 365, t0; label = &quot;Mean over all events&quot;)
sp = surface!(a, x_vals, y_vals, y_colors; shading = false, colormap = :diverging_bwr_55_98_c37_n256)
translate!(p, 0,0,1)
f
p.color = Makie.wong_colors()[3]
f

cb = Colorbar(f[1, 2], sp; label = &quot;Confidence level&quot;)
cb.ticks = WilkinsonTicks(8; k_min = 5, k_max = 10)
leg = axislegend(a; position = :rt)

a.title = &quot;USD-INR performance after a Fed rate hike&quot;
a.subtitle = rich(rich(&quot;t=0&quot;, font = to_font(&quot;Fira Mono&quot;)), &quot; indicates the time of rate hike&quot;)
a.titlealign = :left
a.xlabel = &quot;Event time (days)&quot;
a.ylabel = &quot;USD-INR returns&quot;
a.xticks = WilkinsonTicks(8; k_min = 5, k_max = 10)
f</code></pre><p>save(&quot;usdinr<em>2.pdf&quot;, f; pt</em>per_unit = 1)</p><hr/><p><em>This page was generated using <a href="https://github.com/fredrikekre/Literate.jl">Literate.jl</a>.</em></p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../mwe/">« Minimal example</a><a class="docs-footer-nextpage" href="../sex_ratio_at_birth/">Sex ratio at birth »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.24 on <span class="colophon-date" title="Wednesday 29 March 2023 09:52">Wednesday 29 March 2023</span>. Using Julia version 1.8.5.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
